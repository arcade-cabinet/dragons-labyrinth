You are an expert Python developer creating comprehensive data extraction models for a D&D hex-based RPG.

## GOAL: Discover ALL extractable data for regions with explicit UUID connections

**Context**: The uploaded files are sample region data. Analyze them thoroughly and create Pydantic models that capture EVERYTHING you find.

**Primary Focus**: Hex tiles for Bevy ECS integration with explicit UUID connection tracking.

## CRITICAL REQUIREMENTS

**UUID Connection Tracking**:
- **EVERY UUID field** must be explicitly identified and documented
- **Connection fields** (settlement_uuid, dungeon_uuid, region_uuid, etc.) must be surfaced
- **Entity relationships** must be made explicit through UUID references

**Absolute Imports Only**:
- **NO wildcard imports** (no `from x import *`)
- **Explicit imports** only (e.g., `from generator.processors.models.settlements import SettlementModel`)
- **Full import paths** for all dependencies

## Analysis Approach

Examine the uploaded files and identify:
1. **Data structures** - What information is available?
2. **UUID patterns** - What UUID fields connect to other entities?
3. **Extraction patterns** - How can BeautifulSoup extract this data?
4. **Relationships** - How do different data pieces connect via UUIDs?
5. **Connection points** - What fields reference dungeons, settlements, factions?

## Key Patterns to Look For

**Spatial Coordinate Patterns**:
- **Hex coordinates**: Extract "Hex W2S51" from `<div hidden id="doc-title">` 
- **Map coordinates**: Extract hex, x, y, zoom from `<a class="map-coords" hex="..." x="..." y="..." zoom="...">`
- **Breadcrumb paths**: Region/settlement/dungeon links in breadcrumbs span

**UUID and Cross-Reference Patterns**:
- **Entity UUID**: Extract from filename (entity_{UUID}.html)
- **Region UUIDs**: From breadcrumb links like `/sandbox/nTR8nJOW/region/hzKVGQ2T`
- **Settlement UUIDs**: From breadcrumb links like `/sandbox/nTR8nJOW/location/YVOe8HfG`
- **Dungeon UUIDs**: From content links like `/sandbox/nTR8nJOW/location/8qLm8lun`
- **Faction UUIDs**: From faction links like `/sandbox/nTR8nJOW/faction/42LTyPyh`

**In JSON files**:
- Coordinate systems and hex mappings with explicit coordinate fields
- Infrastructure data (rivers, trails, harbors) with spatial positions
- Biome and feature classifications with region connections
- Settlement references via coordinate mappings
- Dungeon entrance points via hex coordinate references

**In HTML files** (use BeautifulSoup):
- **Hidden doc-title**: `soup.find('div', {'id': 'doc-title'})` for hex coordinates
- **Map coords anchor**: `soup.find('a', class_='map-coords')` for spatial data  
- **Breadcrumbs**: Extract all `/sandbox/nTR8nJOW/{type}/{uuid}` pattern links
- **Faction links**: `soup.find_all('a', href=re.compile(r'/faction/'))` 
- **Location links**: `soup.find_all('a', href=re.compile(r'/location/'))`
- **NPC anchors**: `soup.find_all('a', class_='npc-anchor')` for character UUIDs
- **Cross-references**: All spoiler sections and embedded links

## Output Requirements

Generate comprehensive Pydantic models with:
- **Explicit UUID Documentation**: Comment every UUID field with what entity it connects to
- **Connection Field Mapping**: List all fields that reference other entity UUIDs
- **Absolute imports only**: Full import paths, no wildcards
- **Discovery-driven structure** - Model what you actually find
- **BeautifulSoup extraction methods** - Include specific parsing logic for UUID extraction
- **Modern Python types**: str, int, list[str], dict[str, Any], str | None

**Required Code Structure**:
```python
# Absolute imports only - NO wildcards
from typing import Any
import re
from pydantic import BaseModel, Field
from bs4 import BeautifulSoup

class RegionHexTile(BaseModel):
    """Hex tile within a region."""
    # Entity identification
    entity_uuid: str = Field(..., description="UUID from filename (entity_{UUID}.html)")
    
    # Spatial coordinates  
    hex_coordinate: str | None = Field(None, description="Hex coordinate like 'W2S51' from doc-title")
    map_hex_id: str | None = Field(None, description="Map hex ID from map-coords anchor")
    map_x: float | None = Field(None, description="Map X coordinate")
    map_y: float | None = Field(None, description="Map Y coordinate")
    
    # Entity connections via UUIDs extracted from links
    region_uuid: str | None = Field(None, description="UUID of parent region from breadcrumbs")
    settlement_uuid: str | None = Field(None, description="UUID of settlement in this hex")  
    dungeon_uuids: list[str] = Field(default_factory=list, description="UUIDs of dungeons referenced")
    faction_uuids: list[str] = Field(default_factory=list, description="UUIDs of factions referenced")
    npc_uuids: list[str] = Field(default_factory=list, description="UUIDs of NPCs with anchors")
    
    @classmethod  
    def extract_from_html(cls, html_content: str, filename: str) -> "RegionHexTile":
        """Extract all coordinate and UUID data from HTML using BeautifulSoup."""
        soup = BeautifulSoup(html_content, 'html.parser')
        
        # Extract entity UUID from filename
        entity_uuid = filename.replace('entity_', '').replace('.html', '')
        
        # Extract hex coordinate from hidden doc-title
        doc_title = soup.find('div', {'id': 'doc-title'})
        hex_coordinate = None
        if doc_title and 'Hex ' in doc_title.text:
            # Extract "W2S51" from "Hex W2S51 in Aurora Bushes"
            match = re.search(r'Hex ([A-Z]\d+[A-Z]\d+)', doc_title.text)
            hex_coordinate = match.group(1) if match else None
            
        # Extract map coordinates from map-coords anchor
        map_coords = soup.find('a', class_='map-coords')
        map_hex_id = map_coords.get('hex') if map_coords else None
        map_x = float(map_coords.get('x', 0)) if map_coords and map_coords.get('x') else None
        map_y = float(map_coords.get('y', 0)) if map_coords and map_coords.get('y') else None
        
        # Extract UUIDs from various link patterns
        region_uuid = cls._extract_uuid_from_links(soup, '/region/')
        settlement_uuid = cls._extract_uuid_from_links(soup, '/location/')
        dungeon_uuids = cls._extract_all_uuids_from_links(soup, '/location/')  
        faction_uuids = cls._extract_all_uuids_from_links(soup, '/faction/')
        npc_uuids = [anchor.get('name') for anchor in soup.find_all('a', class_='npc-anchor') if anchor.get('name')]
        
        return cls(
            entity_uuid=entity_uuid,
            hex_coordinate=hex_coordinate,
            map_hex_id=map_hex_id,
            map_x=map_x,
            map_y=map_y,
            region_uuid=region_uuid,
            settlement_uuid=settlement_uuid,
            dungeon_uuids=dungeon_uuids,
            faction_uuids=faction_uuids,
            npc_uuids=npc_uuids
        )
        
    @classmethod
    def _extract_uuid_from_links(cls, soup: BeautifulSoup, link_pattern: str) -> str | None:
        """Extract first UUID from links matching pattern."""
        links = soup.find_all('a', href=re.compile(link_pattern))
        if links:
            match = re.search(rf'{link_pattern}([^/]+)', links[0]['href'])
            return match.group(1) if match else None
        return None
        
    @classmethod  
    def _extract_all_uuids_from_links(cls, soup: BeautifulSoup, link_pattern: str) -> list[str]:
        """Extract all UUIDs from links matching pattern."""
        uuids = []
        links = soup.find_all('a', href=re.compile(link_pattern))
        for link in links:
            match = re.search(rf'{link_pattern}([^/]+)', link['href'])
            if match:
                uuids.append(match.group(1))
        return list(set(uuids))  # Remove duplicates
        
    @classmethod
    def extract_uuid_connections(cls) -> dict[str, str]:
        """Return mapping of UUID fields to their entity types."""
        return {
            "entity_uuid": "region_entity",
            "region_uuid": "region", 
            "settlement_uuid": "settlement",
            "dungeon_uuids": "dungeon",
            "faction_uuids": "faction", 
            "npc_uuids": "npc"
        }
```

**Focus**: Extract ALL spatial coordinates and UUID connections systematically for perfect container integration.
