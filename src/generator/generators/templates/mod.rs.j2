use bevy::prelude::*;

pub mod components;
pub mod resources;  
pub mod queries;
pub mod systems;

// Generated ECS modules from HBF entity processing
{% for module in modules -%}
pub mod {{ module }};
{% endfor %}

pub fn register(app: &mut App) {
    resources::register_resources(app);
    systems::register_systems(app);
    
    // Register generated ECS systems
    {% for module in modules -%}
    app.add_systems(Startup, {{ module }}::spawn_{{ module }});
    {% if module != "factions" -%}
    app.add_systems(Update, {{ module }}::update_{{ module }}_corruption);
    {% endif -%}
    {% endfor %}
}
