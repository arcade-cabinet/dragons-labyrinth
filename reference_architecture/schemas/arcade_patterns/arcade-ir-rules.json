{
  "compilation_rules": {
    "allowed_functions": [
      "draw_text",
      "play_sound",
      "load_sound",
      "draw_circle",
      "draw_rectangle",
      "draw_line",
      "SpriteList",
      "load_texture",
      "Sprite"
    ],
    "required_imports": [
      "import arcade",
      "from typing import Optional, List, Dict, Any"
    ],
    "template_constraints": {
      "max_lines_per_template": 50,
      "max_nested_loops": 2,
      "required_docstrings": true,
      "forbidden_imports": [
        "os",
        "sys",
        "subprocess",
        "eval",
        "exec"
      ]
    },
    "student_code_rules": {
      "max_lines_per_file": 200,
      "max_functions_per_file": 10,
      "required_patterns": [
        "game_loop",
        "sprite_creation",
        "input_handling"
      ],
      "forbidden_operations": [
        "file_system",
        "network",
        "eval",
        "exec"
      ]
    }
  },
  "scaffold_patterns": {
    "required_scaffold": [
      "INIT_WINDOW",
      "GAME_LOOP",
      "SPRITE_SETUP",
      "INPUT_HANDLER",
      "COLLISION_BASIC",
      "CLEANUP"
    ],
    "optional_patterns": [
      "ANIMATION",
      "SOUND_EFFECTS",
      "PARTICLE_EFFECTS",
      "ADVANCED_COLLISION",
      "PHYSICS",
      "CAMERA_CONTROL"
    ]
  },
  "validation_gates": {
    "compilation_gate": "Generated code must compile without errors",
    "runtime_gate": "Generated code must run for 5 seconds without exceptions",
    "arcade_gate": "All Arcade API calls must be validated against approved list",
    "student_gate": "Student hook points must be clearly marked and functional"
  }
}