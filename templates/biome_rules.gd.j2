# BiomeRules.gd - generated
extends Node

class_name BiomeRules

var ADJACENCY: Dictionary = {{ adjacency | tojson(indent=0) }}
var MOVEMENT: Dictionary = {{ movement | tojson(indent=0) }}
var HAZARDS: Dictionary = {{ hazards | tojson(indent=0) }}
var PASSABILITY: Dictionary = {{ passability | tojson(indent=0) }}
var LAYER_PRIORITIES: Dictionary = {{ layer_priorities | tojson(indent=0) }}

func get_neighbors(biome: String) -> Array:
    return ADJACENCY.get(biome, [])

func movement_cost(biome: String, mode: String) -> float:
    var m := MOVEMENT.get(biome, {})
    if typeof(m) == TYPE_DICTIONARY and m.has(mode):
        return float(m[mode])
    return 1.0

func hazard_dps(biome: String) -> float:
    var h := HAZARDS.get(biome, {})
    if typeof(h) == TYPE_DICTIONARY and h.has("dps"):
        return float(h["dps"])
    return 0.0

func is_passable(biome: String, mode: String) -> bool:
    var p := PASSABILITY.get(biome, {})
    if typeof(p) == TYPE_DICTIONARY and p.has(mode):
        return bool(p[mode])
    return true

func layer_priority(layer: String) -> int:
    return int(LAYER_PRIORITIES.get(layer, 0))
