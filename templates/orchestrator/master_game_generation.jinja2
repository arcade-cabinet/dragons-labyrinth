# Dragon's Labyrinth - Master Game Generation Template

## Overview
This master template orchestrates the generation of a complete hex-based RPG game by combining all system prompts with discovered assets. The game should feel cohesive, with all systems interconnected and balanced.

## Asset Discovery Phase

### 1. Analyze Available Assets
Scan the provided asset directories and categorize:
```
discovered_assets = {
    'characters': [],      # Player classes, NPCs
    'monsters': [],        # Enemies, bosses
    'items': [],          # Weapons, armor, consumables
    'buildings': [],      # Town structures
    'environments': [],   # Biomes, tiles
    'vehicles': [],       # Mounts, transportation
    'effects': [],        # Spells, particles
}
```

### 2. Asset Integration Rules
- Each discovered asset type influences multiple systems
- Missing asset types should be procedurally generated
- Quality over quantity - use best matching assets
- Maintain consistent art style across selections

## System Generation Order

### Phase 1: Foundation
1. **Project Setup** (`project_setup.jinja2`)
   - Initialize Godot 4 project structure
   - Configure rendering for hex-based view
   - Set up asset pipeline

2. **Hex Grid System** (`hex_grid_system.jinja2`)
   - Implement core hex mathematics
   - Create visualization system
   - Build coordinate systems

### Phase 2: Core Mechanics
3. **Character System** (`character_system.jinja2`)
   - Generate classes from character assets
   - Implement stat system
   - Create character controllers

4. **Combat System** (`combat_system.jinja2`)
   - Build turn-based hex combat
   - Integrate class-specific mechanics
   - Create AI behaviors

5. **Leveling System** (`leveling_system.jinja2`)
   - Implement logarithmic XP curve
   - Design skill trees per class
   - Balance progression

### Phase 3: World Building
6. **Map Exploration** (`map_exploration.jinja2`)
   - Generate world from environment assets
   - Create biome transitions
   - Implement fog of war

7. **NPC/Town System** (`npc_town_system.jinja2`)
   - Build towns from building assets
   - Populate with NPC variants
   - Create economic simulation

### Phase 4: Content Systems
8. **Quest System** (`quest_system.jinja2`)
   - Generate main storyline
   - Create procedural side quests
   - Implement choice system

9. **Boss System** (`boss_system.jinja2`)
   - Design mini-bosses from monster assets
   - Create epic dragon encounter
   - Balance difficulty curves

### Phase 5: Player Systems
10. **UI System** (`ui_system.jinja2`)
    - Design cohesive interface
    - Implement hex-based layouts
    - Create responsive controls

11. **Inventory/Crafting** (`inventory_crafting_system.jinja2`)
    - Generate items from assets
    - Design crafting trees
    - Balance economy

12. **Companion System** (`companion_system.jinja2`)
    - Create companion NPCs from assets
    - Implement loyalty and romance
    - Design companion combat AI

13. **Mount System** (`mount_vehicle_system.jinja2`)
    - Generate mounts from animal/vehicle assets
    - Implement mounted movement
    - Create mount progression

### Phase 6: Multiplayer & Community
14. **PvP Arena** (`pvp_arena_system.jinja2`)
    - Design balanced arena combat
    - Create matchmaking system
    - Implement seasonal rankings

15. **Mod Support** (`mod_support_system.jinja2`)
    - Build modding framework
    - Create development tools
    - Establish workshop integration

## Integration Points

### Cross-System Dependencies
```mermaid
graph TD
    HexGrid --> Combat
    HexGrid --> MapExploration
    HexGrid --> Mounts
    Character --> Combat
    Character --> Leveling
    Character --> Companions
    Leveling --> Inventory
    MapExploration --> Towns
    MapExploration --> Mounts
    Towns --> Quests
    Quests --> NPCs
    Quests --> Companions
    Combat --> Bosses
    Combat --> PvP
    Combat --> Companions
    Inventory --> Crafting
    Companions --> Romance
    Mounts --> Exploration
    All --> UI
    All --> ModSupport
```

### Shared Systems
- **Save System**: Persistent across all systems
- **Audio System**: Procedural music/effects
- **Settings**: Difficulty, accessibility
- **Achievements**: Track all system progress

## Asset Mapping Strategy

### Character Classes → Multiple Systems
```
For each character asset:
  → Character System: Playable class
  → NPC System: Town inhabitants
  → Quest System: Class-specific quests
  → Combat System: Class abilities
  → UI System: Class-themed interface
```

### Monster Assets → Enemy Variety
```
For each monster asset:
  → Combat System: Regular enemies
  → Boss System: Elite variants
  → Quest System: Hunt targets
  → Map System: Regional spawns
  → Crafting System: Material drops
```

### Environment Assets → World Variety
```
For each environment set:
  → Map System: Biome generation
  → Combat System: Terrain effects
  → Quest System: Region-specific content
  → Town System: Architectural themes
  → Resource System: Gathering nodes
```

## Balance Guidelines

### Difficulty Curve
- Levels 1-5: Tutorial zone, forgiving
- Levels 5-15: Learning systems, moderate
- Levels 15-30: Mastery required, challenging
- Levels 30-45: Optimized builds needed
- Levels 45-50: Endgame preparation
- Dragon Fight: Ultimate test

### Economic Balance
- Early game: Scarcity drives exploration
- Mid game: Choices between upgrades
- Late game: Optimization and specialization
- Endgame: Prestige currency systems

### Time Investment
- Main story: 20-30 hours
- Completionist: 50-60 hours
- Endless mode: Roguelike elements
- Daily quests: 30-minute sessions

## Technical Specifications

### Performance Targets
- 60 FPS on modern hardware
- Scalable graphics settings
- Efficient hex calculations
- Optimized pathfinding
- Asset streaming for large worlds

### Platform Considerations
- PC primary (mouse + keyboard)
- Controller support
- Steam Deck verified
- Mod support structure
- Localization ready

## Content Generation Rules

### Procedural Elements
- Dungeon layouts
- Loot distribution
- NPC personalities
- Quest variations
- Shop inventories

### Handcrafted Elements
- Main story beats
- Boss encounters
- Town layouts
- Key NPCs
- Legendary items

## Final Integration Checklist

Before code generation is complete:
- [ ] All systems reference discovered assets
- [ ] Cross-system interactions verified
- [ ] Balance formulas documented
- [ ] Save system handles all data
- [ ] Tutorial covers all mechanics
- [ ] Companion relationships tracked
- [ ] Mount systems integrated with exploration
- [ ] PvP properly balanced separate from PvE
- [ ] Mod support framework tested
- [ ] Endgame content provides goals
- [ ] Performance optimized
- [ ] Accessibility options included

Generate a cohesive, interconnected game where every system enhances the others, creating an engaging hex-based RPG experience that culminates in an epic dragon battle with endless possibilities for continued play and community engagement.
