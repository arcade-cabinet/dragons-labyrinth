# Dragon's Labyrinth - Universal Feature Variants System
# See GLOBAL_STYLE_GUIDE.toml for format specifications

[batch]
name = "features_universal_variants"
description = "Universal building and interactive feature archetypes with combinatorial variant generation"
level_range = "1-180"
category = "feature"

# All format constraints inherited from GLOBAL_STYLE_GUIDE.toml
# Standard 128x128 hex tile resolution for single hex features
# Large 256x256 resolution for multi-hex structures
# Transparent PNG overlays for interaction elements

# Universal Variant Dimensions
[variants]
material = ["wood", "stone", "brick", "marble", "crystal", "bone", "void_metal"]
condition = ["pristine", "weathered", "damaged", "ruined", "corrupted", "void_touched"]
size = ["small", "medium", "large", "massive"]
occupancy = ["empty", "occupied", "abandoned", "active", "sealed"]
corruption = ["clean", "tainted", "blighted", "twisted", "void_warped"]
lighting = ["bright", "dim", "dark", "magical", "void_glow"]
style = ["simple", "ornate", "military", "religious", "arcane", "eldritch"]

# Residential Buildings
[assets.cottage]
type = "feature_building"
base_prompt = "Cottage: {size} residential dwelling made of {material}, {condition} state, {style} architectural details, {lighting} windows, showing {corruption} influence, {occupancy} appearance"
archetype = "cottage"
class = "residential"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 7

[assets.manor]
type = "feature_building"
base_prompt = "Manor: {size} noble residence made of {material}, {condition} state, {style} architectural grandeur, multiple wings, {lighting} windows, showing {corruption} influence, {occupancy} appearance"
archetype = "manor"
class = "residential"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 7

[assets.inn]
type = "feature_building"
base_prompt = "Inn: {size} public house made of {material}, {condition} state, {style} welcoming design, stable attached, {lighting} warm glow, showing {corruption} influence, {occupancy} with travelers"
archetype = "inn"
class = "commercial"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 7

# Religious Buildings
[assets.chapel]
type = "feature_building"
base_prompt = "Chapel: {size} religious building made of {material}, {condition} state, {style} sacred architecture, distinctive spire, {lighting} from stained glass, showing {corruption} influence, {occupancy} for worship"
archetype = "chapel"
class = "religious"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 7

[assets.cathedral]
type = "feature_building"
base_prompt = "Cathedral: {size} grand religious building made of {material}, {condition} state, {style} magnificent architecture, towering spires, {lighting} divine illumination, showing {corruption} influence, {occupancy} for grand ceremonies"
archetype = "cathedral"
class = "religious"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 8

# Military Buildings
[assets.tower]
type = "feature_building"
base_prompt = "Tower: {size} defensive structure made of {material}, {condition} state, {style} military design, distinctive cylindrical shape, {lighting} guard positions, showing {corruption} influence, {occupancy} for defense"
archetype = "tower"
class = "military"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 8

[assets.keep]
type = "feature_building"
base_prompt = "Keep: {size} fortress structure made of {material}, {condition} state, {style} imposing design, thick walls, {lighting} defensive positions, showing {corruption} influence, {occupancy} garrison state"
archetype = "keep"
class = "military"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 8

[assets.gate]
type = "feature_building"
base_prompt = "Gate: {size} defensive entrance made of {material}, {condition} state, {style} fortified design, portcullis visible, {lighting} guard towers, showing {corruption} influence, {occupancy} checkpoint"
archetype = "gate"
class = "military"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 8

# Dungeon Entrances
[assets.cave_entrance]
type = "feature_dungeon"
base_prompt = "Cave entrance: {size} natural opening carved from {material}, {condition} state, {style} formation, stalactites visible, {lighting} depths within, showing {corruption} influence, {occupancy} mystery"
archetype = "cave_entrance"
class = "dungeon"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting"]
layer_type = "feature"
tileable = false
priority = 7

[assets.crypt_entrance]
type = "feature_dungeon"
base_prompt = "Crypt entrance: {size} burial site entrance made of {material}, {condition} state, {style} morbid architecture, tombstone markers, {lighting} eerie glow, showing {corruption} influence, {occupancy} undead presence"
archetype = "crypt_entrance"
class = "dungeon"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 7

[assets.dungeon_entrance]
type = "feature_dungeon"
base_prompt = "Dungeon entrance: {size} underground entrance made of {material}, {condition} state, {style} ominous design, iron bars visible, {lighting} depths below, showing {corruption} influence, {occupancy} dangerous depths"
archetype = "dungeon_entrance"
class = "dungeon"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 7

# Interactive Features
[assets.well]
type = "feature_interactive"
base_prompt = "Well: {size} water source made of {material}, {condition} state, {style} construction, rope and bucket visible, {lighting} depths, showing {corruption} water quality, {occupancy} functionality"
archetype = "well"
class = "utility"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 6

[assets.forge]
type = "feature_interactive"
base_prompt = "Forge: {size} smithy workshop made of {material}, {condition} state, anvil and bellows visible, {style} craftsmanship tools, {lighting} fire glow, showing {corruption} influence, {occupancy} smith activity"
archetype = "forge"
class = "crafting"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 6

[assets.shrine]
type = "feature_interactive"
base_prompt = "Shrine: {size} sacred site made of {material}, {condition} state, {style} religious symbols, offering bowl, {lighting} divine presence, showing {corruption} influence, {occupancy} pilgrim use"
archetype = "shrine"
class = "religious"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 6

[assets.altar]
type = "feature_interactive"
base_prompt = "Altar: {size} sacrificial stone made of {material}, {condition} state, {style} ritual design, ceremonial markings, {lighting} mystical energy, showing {corruption} influence, {occupancy} ritual use"
archetype = "altar"
class = "ritual"
variants = ["material", "condition", "size", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 6

# Large Structures (256x256)
[assets.castle]
type = "feature_megastructure"
base_prompt = "Castle: {size} fortress complex made of {material}, {condition} state, {style} architectural grandeur, multiple towers and walls, {lighting} defensive positions, showing {corruption} influence, {occupancy} royal presence"
archetype = "castle"
class = "megastructure"
variants = ["material", "condition", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 9
resolution = "256x256"

[assets.temple_complex]
type = "feature_megastructure"
base_prompt = "Temple complex: {size} religious complex made of {material}, {condition} state, {style} sacred architecture, multiple buildings and courtyards, {lighting} divine illumination, showing {corruption} influence, {occupancy} pilgrimage site"
archetype = "temple_complex"
class = "megastructure"
variants = ["material", "condition", "occupancy", "corruption", "lighting", "style"]
layer_type = "feature"
tileable = false
priority = 9
resolution = "256x256"

# Corruption State Descriptors for Prompt Substitution
[corruption_descriptors]
clean = "untainted by corruption, pure materials"
tainted = "subtle wrongness, discoloration visible"
blighted = "obvious corruption, twisted materials"
twisted = "dramatically warped by dark forces"
void_warped = "reality-bending corruption, impossible geometry"

# Material Quality Descriptors
[condition_descriptors]
pristine = "perfect condition, newly built"
weathered = "aged but sturdy, natural wear"
damaged = "structural damage, repairs needed"
ruined = "partially collapsed, barely standing"
corrupted = "twisted by dark forces"
void_touched = "reality distortion effects visible"

# Automatic Variant Generation Rules
[generation_rules]
max_variants_per_archetype = 25  # Limit combinatorial explosion
priority_variants = ["corruption", "condition", "occupancy"]  # Generate these first
sprite_sheet_grouping = "class"  # Group variants by building class
naming_convention = "{archetype}_{material}_{condition}_{size}_{corruption}"
